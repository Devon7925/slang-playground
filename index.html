<!DOCTYPE html>
<html>
  <head>
    <title>Slang Playground</title>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1"
    />
    <meta
      name="description"
      content="Interactive playground for experimenting with Slang shading language. Write, compile, and visualize shader code in real-time."
    />
    <meta
      name="keywords"
      content="Slang, shader, WebGPU, graphics programming, code playground, real-time rendering"
    />
    <link href="./styles/styles.css" rel="stylesheet" />
    <script src="https://unpkg.com/split-grid/dist/split-grid.js"></script>
    <script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/loader.js"></script>
    <script>
      require.config({
        paths: {
          vs: "https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs",
        },
      });
      window.MonacoEnvironment = { getWorkerUrl: () => proxy };
      let proxy = URL.createObjectURL(
        new Blob(
          [
            `
              self.MonacoEnvironment = {
                  baseUrl: 'https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/'
              };
              importScripts('https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/base/worker/workerMain.js');
          `,
          ],
          { type: "text/javascript" }
        )
      );
    </script>
    <script src="util.js"></script>
    <script src="water_demo.js"></script>
    <script src="pass_through.js"></script>
    <script src="compute.js"></script>
    <script src="compiler.js"></script>
    <script src="try-slang.js"></script>
    <script src="slang-wasm.js"></script>
  </head>
  <body>
    <div class="mainContainer">
      <div class="leftContainer">
        <div class="navbar">
          <div class="navbar-actions navbar-item">
            <div class="navbar-group">
              <div class="dropdown" id="new-dropdown">
                <a href="#" class="dropdown-btn">New &#9662;</a>
                <div class="dropdown-content">
                  <a href="#">Runnable Print Shader</a>
                  <a href="#">Runnable Image Shader</a>
                  <a href="#">Option 3</a>
                </div>
              </div>
              <div class="dropdown" id="demo-dropdown">
                <a href="#" class="dropdown-btn">Demo &#9662;</a>
                <div class="dropdown-content">
                  <a href="#">Circles</a>
                  <a href="#">Water</a>
                </div>
              </div>
            </div>
          </div>
          <div class="navbar-run navbar-item">
            <button id="run-btn" onclick="onRun()" disabled>Run</button>
          </div>
          <div class="navbar-compile navbar-item">
            <a href="#" class="run-btn">computeMain (Compute) -> WGSL</a>
            <button id="compile-btn" onclick="onCompile()" disabled>
              Compile
            </button>
          </div>
        </div>

        <div class="workSpace">
          <div class="codingSpace" id="codeEditor"></div>
          <div class="gutter gutter-vertical"></div>
          <div class="diagnosticSpace" id="diagnostics"></div>
        </div>
      </div>
      <div class="gutter gutter-horizontal"></div>
      <div class="rightContainer">
        <div class="resultSpace">
          <div class="outputSpace" id="output">
            <canvas class="renderCanvas" id="canvas"></canvas>
          </div>
          <div class="gutter gutter-vertical"></div>
          <div class="codeGenSpace" id="codeGen"></div>
        </div>
      </div>
    </div>

    <script src="ui.js"></script>
  </body>
</html>
